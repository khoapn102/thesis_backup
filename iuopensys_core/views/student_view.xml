<?xml version="1.0" ?>
<openerp>
	<data>
		<!--  Action for Views -->
		<record model="ir.actions.act_window" id="student_main_action">
			<field name="name">Student Managment</field>
			<field name="res_model">student</field>
			<field name="view_mode">tree,form</field>
		</record>
			
		<!-- Tree View -->
		<record id="student_main_tree_view" model="ir.ui.view">
			<field name="name">All Students</field>
			<field name="model">student</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Student List">
					<field name="studentId"/>
					<field name="last_name"/>
					<field name="name"/>
					<field name="birthdate"/>
					<field name="department_id"/>
					<field name="academic_year_id"/>
					<field name="student_class_code" string="Class Code"/>
					<field name="major_id"/>
					<field name="country_id"/>
				</tree>
			</field>
		</record>
		
		<!-- Form View -->
		<record id="student_main_form_view" model="ir.ui.view">
			<field name="name">Student</field>
			<field name="model">student</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<!-- Add Graduation Status later on -->
					</header>
					<sheet>
						<div class="oe_button_box" name="my_button_box">
							<!-- Add Button later on -->
						</div>
						<field name="image" widget="image" class="oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;}"/>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Student Name"/>
                            <h1>
                            	<field name="last_name" required="1" class="oe_inline" placeholder="Last Name"/>&#x2063;
                            	<field name="name" required="1" class="oe_inline" placeholder="First Name"/>
                            </h1>
                        </div>
                        <group colspan="4">
                        	<group colspan="4" string="Basic Information">
                        		<group>                        			
                        			<field name="department_id" domain="[('has_student','=',True)]" options="{'no_create':True}"/>
                        			<field name="major_id" options="{'no_create':True}"/>
                        			<field name="academic_year_id" options="{'no_create':True}"/>
                        			<field name="year_batch_id"/>
                        		</group>
                        		<group>
                        			<field name="studentId" placeholder="Student Id..."/> 
                        			<field name="student_class_code"/>
                        			<field name="student_sequence" invisible="1"/>
                        		</group>
                        	</group>
                        	<notebook colspan="4">
                        		<page string="Login Info">
                        			<group colspan="4">
                        				<group>
			                        		<field name="login"/>
                        					<field name="password"/>		
	                        			</group>
	                        			<group>
	                        				 <field name="email"/> 
	                        			</group>
                        			</group> 
                        			<group groups="iuopensys_core.group_staff">
                        				<field name="groups_id" class="oe_edit_only"/>
                        			</group>                      			
                        		</page>
                        		<page string="Personal Info">
                        			<group colspan="4">
                        				<group>
                        					<field name="birthdate"/>
                        					<field name="gender"/>                        					
                        					<field name="ethnic"/>                        					
                        				</group>
	                        			<group>
	                        				<label for="street" string="Permanent Address" style="font-weight:bold"/>
		                                    <div name="div_address">
		                                        <field name="street"
		                                            placeholder="Street..." />
		                                        <field name="street2"/>
		                                        <div class="address_format">
		                                            <field name="city"
		                                                placeholder="City"
		                                                style="width: 40%%" />	                                                
		                                            <field name="country_id"
		                                                class="oe_no_button"
		                                                placeholder="Country"
		                                                style="width: 40%%"
		                                                options='{"no_open": True}' />                                            
												</div>
											</div>
											<label for="emergency_name" string="Emergency Contact" style="font-weight:bold"/>
                        					<div name="div_emergency">
                        						<field name="emergency_name"
                        							placeholder="Name of contact..."/>
                        						<field name="emergency_phone"
                        							placeholder="Phone number"
                        							style="width: 50%%"/>
                        					</div>
	                        			</group>                        				
                        			</group>                        			
                        		</page>                        		
                        	</notebook>
                        </group>
					</sheet>
				</form>
			</field>
		</record>
		
		<!-- Search View -->
		<record id="student_main_search_view" model="ir.ui.view">
			<field name="name">Search</field>
			<field name="model">student</field>
			<field name="type">search</field>
			<field name="arch" type="xml">
				<search string="Search">
					<!-- Search By -->
					<field name="studentId"/>
					<field name="name"/>
					<field name="last_name"/>
					<field name="street"/>
					
					<!-- Group By -->
					<group expand="0" string="Group By">
						<filter string="Major"
							context="{'group_by':'major_id'}"/>
						<filter string="Ethnic"
							context="{'group_by':'ethnic'}"/>
						<filter string="Department"
							context="{'group_by':'department_id'}"/>
					</group>
				</search>
			</field>
		</record>
	</data>
</openerp>